<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<link type="text/css" href="/resources/css/mypage/docEditor.css"
	rel="stylesheet" media="screen" />
<link type="text/css" href="/resources/css/mypage/goApp1.css"
	rel="stylesheet" media="screen" />
<link type="text/css" href="/resources/css/mypage/goApp2.css"
	rel="stylesheet" media="screen" />
<link type="text/css" href="/resources/css/mypage/goStyle.css"
	rel="stylesheet" media="screen" />
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=1024">
<meta name="base" content="/">
<meta name="locale" content="ko">
<meta name="device" content="pc">
<meta name="revision" content="202402261147">
<meta name="profile" content="production">
<meta name="brandName" content="DaouOffice">
<meta name="serviceType" content="cloud">
<meta name="gaTrackerId" content="">
<meta name="useOauthLogin" content="false">
<meta name="useMiniGnb" content="false">
<meta name="miniGnbUrl" content="/">
<meta name="useLabFeedback" content="true">
<meta name="hasLabFeedbackConfig" content="false">
<title>홈 - DaouOffice</title>
<link rel="stylesheet" href="/resources/css/attendance/main.css"
	media="all">

<link href="/resources/images/favicon/DO_favicon.ico?rev=202402261147"
	rel="shortcut icon">
<link rel="preload"
	href="/resources/fonts/notosans/noto-sans-kr-v25-latin_korean-regular.woff2"
	as="font" type="font/woff2">
<link rel="stylesheet"
	href="/resources/css/fonts/notosans.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/master_style.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/go_style.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/go_app_style2.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/go_app_style3.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/doc_editor.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/go_home_dashboard.css?rev=202402261147"
	media="all">
<link rel="stylesheet"
	href="/resources/css/go_print.css?rev=202402261147" media="print">
<link rel="stylesheet"
	href="/resources/css/go_color_default.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/doc_editor.css?rev=202402261147" media="screen">
<link rel="stylesheet"
	href="/resources/css/go_prototype.css?rev=202402261147" media="screen">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/jquery/plugins/jstree/themes/default/style.css"
	media="all">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/jquery/plugins/fancybox/helpers/jquery.fancybox-buttons.css"
	media="all">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/jquery/plugins/fancybox/jquery.fancybox.css"
	media="all">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/jquery/plugins/fancybox/helpers/jquery.fancybox-thumbs.css">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/jquery/plugins/tooltipster/tooltipster.min.css">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/simplebar/simplebar.css">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/gridStack/gridstack.min.css">
<link rel="stylesheet" type="text/css"
	href="/resources/js/vendors/realgrid/realgrid-style.css">




<link rel="stylesheet"
	href="/resources/css/go_customize.css?rev=202402261147" media="all">
<link rel="stylesheet"
	href="/resources/css/go_customize_print.css?rev=202402261147"
	media="print">

<!-- index.jsp에 대한 header 부분에 대한 custom 처리사항을 반영합니다. -->


<!--[if lte IE 8]>
	<script src="/resources/js/vendors/html5.js"></script>
	<script src="/resources/js/vendors/css3-mediaqueries.js"></script>
	<script type="text/javascript" src="/resources/js/vendors/jquery/plugins/flot/excanvas.js"></script>
    <![endif]-->
<script async="" src="//www.google-analytics.com/analytics.js"></script>
<script type="text/javascript"
	src="/resources/js/vendors/simplebar/simplebar.min.js"></script>
<script type="text/javascript"
	src="/resources/js/vendors/echarts/echarts.min.js"></script>
<script type="text/javascript"
	src="/resources/js/vendors/realgrid/realgrid.2.4.2.min.js"></script>
<script type="text/javascript"
	src="/resources/js/vendors/realgrid/realgrid-lic.js"></script>
<script type="text/javascript"
	src="/resources/js/vendors/jsPdf/es6-promise.auto.min.js"></script>
<script type="text/javascript"
	src="/resources/js/vendors/requirejs/require.js?rev=202402261147"></script>
<script type="text/javascript"
	src="/resources/js/conf/config.js?rev=202402261147"></script>
<script type="text/javascript"
	src="/resources/js/conf/env.js?rev=202402261147"></script>



<script async="" type="text/javascript"
	src="https://doad.daouoffice.com/resources/advertisement.min.js?rev=202402261147"
	data-uuid="" data-user-id="232" data-ad-placement="user"></script>

<link rel="stylesheet"
	href="https://doad.daouoffice.com/resources/advertisement.min.css?revision=202402261147">
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="vendors"
	src="/resources/js/app/../vendors.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="boot"
	src="/resources/js/app/../boot.js?rev=202402261147"></script>

<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="app"
	src="/resources/js/app/app.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="hogan"
	src="/resources/js/app/../vendors/hogan.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="main"
	src="/resources/js/app/main.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="collections/notifications"
	src="/resources/js/app/collections/notifications.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="editor_inlineImg_upload"
	src="/resources/js/app/../components/inlineUpload/main.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="go-webeditor/jquery.go-webeditor"
	src="/resources/js/app/../components/go-webeditor/jquery.go-webeditor.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="../libs/go-google-analytics"
	src="/resources/js/app/../libs/go-google-analytics.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="router"
	src="/resources/js/app/router.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="go-notice"
	src="/resources/js/app/../libs/go-notice.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="strophe"
	src="/resources/js/app/../vendors/strophe/strophe.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="components/inlineUpload/views/editor_inlineImgUploadLayer"
	src="/resources/js/app/../components/inlineUpload/views/editor_inlineImgUploadLayer.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="go-webeditor"
	src="/resources/js/app/../components/go-webeditor/go-webeditor.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="smarteditor"
	src="/resources/js/app/../vendors/smartEditor/js/HuskyEZCreator.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="dext5editor"
	src="/resources/js/app/../vendors/dext5editor/js/dext5editor.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="admin/collections/side_menu_collection"
	src="/resources/js/app/../plugins/admin/collections/side_menu_collection.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="file_upload"
	src="/resources/js/app/../components/fileupload/main.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="go-notification"
	src="/resources/js/app/../libs/go-notification.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="go-webeditor/editors/activedesigner"
	src="/resources/js/app/../components/go-webeditor/editors/activedesigner.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="go-webeditor/editors/smarteditor"
	src="/resources/js/app/../components/go-webeditor/editors/smarteditor.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="admin/models/layout/side_menu"
	src="/resources/js/app/../plugins/admin/models/layout/side_menu.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="admin/collections/favorite_menus"
	src="/resources/js/app/../plugins/admin/collections/favorite_menus.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="go-webeditor/editors/dext5editor"
	src="/resources/js/app/../components/go-webeditor/editors/dext5editor.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="components/fileupload/views/flash_upload"
	src="/resources/js/app/../components/fileupload/views/flash_upload.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="components/fileupload/views/jquery_upload"
	src="/resources/js/app/../components/fileupload/views/jquery_upload.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="admin/models/layout/side_sub_menu"
	src="/resources/js/app/../plugins/admin/models/layout/side_sub_menu.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="admin/nls/admin"
	src="/resources/js/app/../plugins/admin/nls/admin.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.iframe-transport"
	src="/resources/js/app/../vendors/jquery/jquery-fileupload/jquery.iframe-transport.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.progressbar"
	src="/resources/js/app/../vendors/jquery/jquery-ui/js/jquery.progressbar.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="components/fileupload/views/file_item"
	src="/resources/js/app/../components/fileupload/views/file_item.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="swfupload"
	src="/resources/js/app/../vendors/swfupload/swfupload.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="swfupload.plugin"
	src="/resources/js/app/../vendors/swfupload/plugin/jquery.swfupload.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.fileupload"
	src="/resources/js/app/../vendors/jquery/jquery-fileupload/jquery.fileupload.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="hgn"
	src="/resources/js/app/../vendors/requirejs/plugins/hgn.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.ui.widget"
	src="/resources/js/app/../vendors/jquery/jquery-fileupload/vendor/jquery.ui.widget.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="dashboard/controllers/site"
	src="/resources/js/app/../plugins/dashboard/controllers/site.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="views/layouts/default"
	src="/resources/js/app/views/layouts/default.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="dashboard/views/site/app"
	src="/resources/js/app/../plugins/dashboard/views/site/app.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="views/profile_card"
	src="/resources/js/app/views/profile_card.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="views/dept_profile_card"
	src="/resources/js/app/views/dept_profile_card.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="libraries/go-redirect-policy"
	src="/resources/js/app/../libs/go-redirect-policy.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="libraries/go-nav"
	src="/resources/js/app/../libs/go-nav.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_"
	data-requiremodule="views/layouts/layoutEventListener"
	src="/resources/js/app/views/layouts/layoutEventListener.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="go-charts"
	src="/resources/js/app/../libs/go-charts.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="swipe"
	src="/resources/js/app/../vendors/swipe/swipe.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="nls/notification"
	src="/resources/js/app/nls/notification.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="calendar/nls/calendar"
	src="/resources/js/app/../plugins/calendar/nls/calendar.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.go-nodetree"
	src="/resources/js/app/../libs/node/go-nodetree.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.go-nodelist"
	src="/resources/js/app/../libs/node/go-nodelist.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="models/profile_card"
	src="/resources/js/app/models/profile_card.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="models/dept_profile"
	src="/resources/js/app/models/dept_profile.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="timeline/nls/timeline"
	src="/resources/js/app/../plugins/ehr/timeline/nls/timeline.js?rev=202402261147"></script>
<script type="text/javascript" charset="utf-8" async=""
	data-requirecontext="_" data-requiremodule="jquery.go-org"
	src="/resources/js/app/../libs/node/go-org.js?rev=202402261147"></script>
</head>
<%@ taglib prefix="sec"
	uri="http://www.springframework.org/security/tags"%>
<sec:authorize access="isAuthenticated()">
	<sec:authentication property="principal.memberVO" var="memberVO" />
</sec:authorize>

<body id="main" data-role="main" data-app-name="none"
	class="go_skin_home_w go_skin_advanced mini" style="">

	<div class="attend_contents_wrap2">
		<p class="txt">
			2024년 10월 7일 (월) <span class="time" id="timelineGadgetTime">06:56:28</span>
		</p>
		<div class="ehr_stat_data summary">
			<p class="stat_tit">
				0<b>h</b> 0<b>m</b>
			</p>
			<div class="type_flexible_summary">
				<div class="wrap_progress">
					<div class="time min" title="주간 근무시간은 40h입니다." style="left: 76%">최소
						40h</div>
					<div class="bar" style="left: 76%"></div>
					<div class="time max" title="최대 근무시간은 52h입니다.">최대 52h</div>
					<div class="progress">
						<div class="part_default" title="선택근무" style="width: 0%"></div>
						<div class="part_overtime" title="초과근무(연장)" style="width: 0%"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="log_view_wrap">
			<ul class="log_view">
				<li>
					<dl>
						<dt>출근시간</dt>
						<dd id="workInTime">${attendanceVO.attendTm}</dd>
					</dl>
				</li>
				<li>
					<dl>
						<dt>퇴근시간</dt>
						<dd id="workOutTime">미등록</dd>
						<dl>
						</dl>
					</dl>
				</li>
			</ul>
		</div>
		<div class="vertical_bar"></div>
		<section class="function function_attend">
			<div class="function_btn_wrap">
				<%-- 			<input type="hidden" name="memId" value="${memberVO.memId}" /> <a id="workIn" --%>
				<!-- 					class="btn_function btn_function_s " data-bypass="true"> <span -->
				<!-- 					class="txt">출근하기</span>  -->
				<input class="btn_function btn_function_s" type="button"
					value="출근하기" id="workIn" />
				<!-- 퇴근로직 -->
				<div class="tab-pane active" id="workOut">
					<form name="OutForm" id="OutForm" action="/mypage/updateBp"
						method="post" enctype="multipart/form-data">
						<a id="workOut" class="btn_function btn_function_s "
							data-bypass="true"> <span class="txt">퇴근하기</span>

						</a>
						<sec:csrfInput />
					</form>
				</div>

			</div>
			<div class="works_state">
				<a class="btn_function" id="changeStatus" data-bypass="true"> <span
					class="txt" id="myStatus">상태변경&nbsp;&nbsp;<span
						class="ic_side ic_show_down"></span></span>
				</a>
			</div>
			<div class="layer_transition" id="layer_transition"
				style="z-index: 100; display: none;">
				<div class="ui-menu-container container">
					<div class="content">
						<div class="row_wrap menuitem my-todo-list foldable">
							<ul class="submenu-list statusList">
								<li class="timelineStatus"><span class="txt " data-code="3">업무</span></li>
								<li class="timelineStatus"><span class="txt " data-code="4">업무종료</span></li>
								<li class="timelineStatus"><span class="txt " data-code="5">외근</span></li>
								<li class="timelineStatus"><span class="txt " data-code="6">출장</span></li>
								<li class="timelineStatus"><span class="txt "
									data-code="30">반차</span></li>
							</ul>
						</div>
						<hr>
					</div>
				</div>
			</div>
		</section>
	</div>
</body>
<div id="outher">
	<!--다른거 -->
	<div class="go-gadget go-gadget-30">
		<!-- 프로필 -->
		<div class="gadget_design_wrap">
			<div class="profile">
				<span class="photo"><img src="/thumb/user/small/4301-212117"
					title="김상후 대표이사" alt=""></span> <span class="info"> <span
					class="name" title="김상후">김상후</span> <span class="position">대표이사</span>
					<span class="part">다우그룹</span>
				</span>
			</div>
			<ul class="type_simple_list today_list">
				<li class="summary-mail"><a
					href="/app/mail?work=quick&amp;folder=today" data-bypass="true">
						<span class="type"><span class="ic_dashboard2 ic_type_mail"
							title="mail"></span></span> <span class="txt">오늘 온 메일</span> <span
						class="badge">1</span>
				</a></li>
				<li class="summary-calendar"><a
					href="/app/calendar/daily/2024-10-08" data-bypass="true"> <span
						class="type"><span class="ic_dashboard2 ic_type_cal"
							title="calendar"></span></span> <span class="txt">오늘의 일정</span> <span
						class="badge">2</span>
				</a></li>
			</ul>
		</div>
	</div>

</div>


<script>


//출근 버튼
	var OutForm = $('#OutForm');
var boardAddBtn = $('#workIn');
var boardAddBtn = $('#workOut');

boardAddBtn.on('click', function() {
	var lvffcTm = $('#lvffcTm').val();




	if ($(this).val() == "수정") {
		workIn.attr("action", "/workIn");

	}
	;
	workIn.submit();
});
$(function() {
	//휴대폰 번호 인증var code2 = "";
	$("#workIn").click(
			function() {
				alert('출근 완료');
				var memId = $("#memId").val();
				$.ajax({
					type : "POST", // post 형식으로 발송
					url : "/emp/attendance/workIn", // controller 위치
					data : {
						"memId" : memId,
						
					}, // 전송할 ㅔ이터값
					cache : false,
					dataType : "text",
					beforeSend : function(xhr) {
						xhr.setRequestHeader("${_csrf.headerName}",
								"${_csrf.token}");
					},
					success : function(data) {
						console.log("workIn->data : ", data);

						if (data == "error") { //실패시 
							alert("출근 실패.")
						} else { //성공시        
							alert("출근 등록.")
							code2 = data; // 성공하면 데이터저장
						}
					},
					error : function(error) {
						console.error("에러 :" + error);
					}
				});
				
				//퇴근

				$("#OutForm").on("submit", function(e) {

					// AJAX 요청으로 폼 제출
					$.ajax({
						url : $(this).attr("action"),
						type : "POST",
						data : new FormData(this),
						contentType : false,
						processData : false,
						success : function(response) {
							// 등록 완료 모달 띄우기
							$("#completionModal").modal('show');
						},
						error : function(xhr, status, error) {
							alert("등록 중 오류가 발생했습니다.");
						}
					});
				})

				
			});
				
				
</script>
